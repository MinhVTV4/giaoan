<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ứng dụng Quản lý Giáo viên (MVP)</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
</head>
<body>

    <div class="container">

        <div id="auth-view" class="view active-view card">
            <h1 class="view-title">Đăng nhập / Đăng ký</h1>

            <form id="login-form" class="auth-form">
                <div class="form-group">
                    <label for="login-email">Email:</label>
                    <input type="email" id="login-email" placeholder="Nhập email của bạn" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Mật khẩu:</label>
                    <input type="password" id="login-password" placeholder="Nhập mật khẩu" required>
                </div>
                <button type="submit" class="btn btn-primary">Đăng nhập</button>
                <p id="auth-error" class="error-message"></p>
                <button type="button" id="show-register-button" class="btn btn-link">Chưa có tài khoản? Đăng ký ngay</button>
            </form>

            <form id="register-form" class="auth-form" style="display: none;">
                <h2 class="form-title">Đăng ký tài khoản mới</h2>
                <div class="form-group">
                    <label for="register-email">Email:</label>
                    <input type="email" id="register-email" placeholder="Nhập email" required>
                </div>
                <div class="form-group">
                    <label for="register-password">Mật khẩu:</label>
                    <input type="password" id="register-password" placeholder="Ít nhất 6 ký tự" required>
                </div>
                <button type="submit" class="btn btn-primary">Đăng ký</button>
                <p id="register-error" class="error-message"></p>
                <button type="button" id="show-login-button" class="btn btn-link">Đã có tài khoản? Đăng nhập</button>
            </form>
        </div>

        <div id="dashboard-view" class="view card" style="display: none;">
            <div class="header">
                 <h1 class="view-title">Bảng điều khiển</h1>
                 <div class="user-info">
                     Xin chào, <span id="user-email"></span>!
                     <button id="logout-button" class="btn btn-secondary btn-sm">Đăng xuất</button>
                 </div>
            </div>

            <hr>
            <section>
                <h2 class="section-title">Quản lý Lớp học</h2>
                <form id="add-class-form" class="inline-form">
                    <input type="text" id="class-name" placeholder="Nhập tên lớp học mới" required>
                    <button type="submit" class="btn btn-success">Thêm lớp</button>
                </form>
                <p id="class-error" class="error-message"></p>
                <ul id="class-list" class="item-list">
                    <li class="loading-placeholder">Đang tải danh sách lớp...</li>
                </ul>
            </section>
        </div>

        <div id="class-detail-view" class="view card" style="display: none;">
             <div class="header">
                <button id="back-to-dashboard-button" class="btn btn-secondary btn-sm">&larr; Quay lại</button>
                <h1 id="detail-class-name" class="view-title">Chi tiết Lớp học</h1>
             </div>

            <hr>
            <section>
                <h2 class="section-title">Quản lý Học sinh</h2>
                <form id="add-student-form" class="inline-form">
                    <input type="text" id="student-name" placeholder="Nhập tên học sinh mới" required>
                    <button type="submit" class="btn btn-success">Thêm học sinh</button>
                </form>
                <p id="student-error" class="error-message"></p>
                <ul id="student-list" class="item-list">
                    <li class="loading-placeholder">Đang tải danh sách học sinh...</li>
                </ul>
            </section>

            <hr>
            <section id="attendance-section">
                <h2 class="section-title">Điểm danh</h2>
                <div class="attendance-controls">
                    <label for="attendance-date">Chọn ngày:</label>
                    <input type="date" id="attendance-date">
                    <button id="filter-absent-button" class="btn btn-secondary btn-sm">Chỉ hiện HS vắng</button>
                </div>
                 <p id="attendance-info" class="info-message"></p>
                <p id="attendance-error" class="error-message"></p>
                <ul id="attendance-list" class="item-list attendance-list">
                     <li class="loading-placeholder">Chọn ngày để xem điểm danh...</li>
                </ul>
            </section>

            <hr>
            <section id="gradebook-section">
                <h2 class="section-title">Sổ điểm</h2>
                <div class="gradebook-controls">
                    <button id="add-grade-column-button" class="btn btn-primary btn-sm">Thêm cột điểm</button>
                    </div>
                <p id="gradebook-error" class="error-message"></p>
                <div id="gradebook-table-container" class="table-responsive">
                    <p class="loading-placeholder">Đang tải sổ điểm...</p>
                </div>
            </section>

        </div>

    </div> <script src="app.js" defer></script>
</body>
</html>
